(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{885:function(t,o,e){"use strict";e.r(o);var n=e(289),l=e(754),r=e(279),c=e(6),m=e(753),d=e(745),v=e(282),f=e(758),_=e(216),C=e(752),h=e(853),F=e(756),x=e(80),k=e(39),y=(e(30),e(8),e(59),e(2),{props:{value:{type:Boolean,default:!1},promo:{type:Object,default:function(){}}},data:function(){return{promotion:{},clients:[]}},mounted:function(){this.promotion=this.promo,this.getClients()},methods:{addFeature:function(){this.promotion.features.push({name:""})},removeFeature:function(){this.promotion.features.pop()},createPromotion:function(){this.$refs.form.validate()&&(this.$axios.put("/promotions/".concat(this.promo.id),{data:this.promotion}),this.$emit("promotionUpdated"),this.$emit("input",!1))},getClients:function(){var t=this;this.$axios.get("/users?filter[type]=client").then((function(o){t.clients=o.data}))}}}),$=e(19),component=Object($.a)(y,(function(){var t=this,o=t._self._c;return o(d.a,{attrs:{"max-width":"800",persistent:"",fullscreen:""},model:{value:t.value,callback:function(o){t.value=o},expression:"value"}},[o(r.a,{staticClass:"rounded-lg",attrs:{"max-width":"800"}},[o(x.a,{attrs:{color:"primary",dense:"",elevation:"0"}},[o(k.b,{staticClass:"white--text font-weight-bold"},[t._v("Editar promocion")]),t._v(" "),o(F.a),t._v(" "),o(n.a,{attrs:{icon:""},on:{click:function(o){return t.$emit("input",!1)}}},[o(_.a,{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1),t._v(" "),o(f.a,{ref:"form"},[o(c.c,[o(C.a,[o(m.a,{staticClass:"col-md-8 col-12"},[o(C.a,[o(m.a,{staticClass:"col-12"},[o("FormsFieldsTextComponent",{attrs:{label:"Nombre"},model:{value:t.promotion.name,callback:function(o){t.$set(t.promotion,"name",o)},expression:"promotion.name"}})],1),t._v(" "),o(m.a,{staticClass:"col-12"},[o("FormsFieldsTextareaComponent",{attrs:{label:"Descripcion"},model:{value:t.promotion.description,callback:function(o){t.$set(t.promotion,"description",o)},expression:"promotion.description"}})],1),t._v(" "),o(m.a,{staticClass:"col-12"},[o("FormsFieldsTextComponent",{attrs:{label:"Fecha de inicio",type:"date"},model:{value:t.promotion.start_date,callback:function(o){t.$set(t.promotion,"start_date",o)},expression:"promotion.start_date"}})],1),t._v(" "),o(m.a,{staticClass:"col-12"},[o("FormsFieldsTextComponent",{attrs:{label:"Fecha de fin",type:"date"},model:{value:t.promotion.end_date,callback:function(o){t.$set(t.promotion,"end_date",o)},expression:"promotion.end_date"}})],1),t._v(" "),o(m.a,{staticClass:"col-12"},[o("FormsFieldsSelectComponent",{attrs:{label:"Tipo",items:["Alquiler","Inversion"]},model:{value:t.promotion.type,callback:function(o){t.$set(t.promotion,"type",o)},expression:"promotion.type"}})],1),t._v(" "),o(m.a,{staticClass:"col-12"},[o(r.a,[o(c.c,{staticClass:"pa-2"},[o("label",{staticClass:"font-weight-bold black--text"},[t._v("Nivel de progreso")]),t._v(" "),o(h.a,{attrs:{"thumb-label":"always",color:"black",height:"15","track-size":"20"},model:{value:t.promotion.progress,callback:function(o){t.$set(t.promotion,"progress",o)},expression:"promotion.progress"}})],1)],1)],1)],1)],1),t._v(" "),o(m.a,{staticClass:"col-md-4 col-12"},[o(C.a,[o(m.a,{staticClass:"col-12"},[o(r.a,[o(c.d,[t._v("Caracteristicas")]),t._v(" "),o(c.b,[o(l.a,[o(n.a,{attrs:{color:"primary",small:""},on:{click:function(o){return t.removeFeature()}}},[o(_.a,[t._v("mdi-minus")])],1),t._v(" "),o(n.a,{attrs:{color:"primary",small:""},on:{click:function(o){return t.addFeature()}}},[o(_.a,[t._v("mdi-plus")])],1)],1)],1),t._v(" "),o(c.c,t._l(t.promotion.features,(function(e,n){return o(C.a,{key:n},[o(m.a,{staticClass:"col-12"},[o("FormsFieldsTextComponent",{attrs:{label:"Caracteristicas"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"feature.name"}})],1)],1)})),1)],1)],1),t._v(" "),o(m.a,{staticClass:"col-12"},[o("FormsFieldsSelectComponent",{attrs:{multiple:"",chips:"",items:t.clients,"item-text":"username","item-value":"id",label:"Clientes"},model:{value:t.promotion.clients,callback:function(o){t.$set(t.promotion,"clients",o)},expression:"promotion.clients"}})],1)],1)],1)],1)],1)],1),t._v(" "),o(v.a),t._v(" "),o(c.a,[o(F.a),t._v(" "),o(n.a,{staticClass:"rounded-lg",attrs:{color:"primary"},on:{click:function(o){return t.createPromotion()}}},[t._v("Guardar")])],1)],1)],1)}),[],!1,null,null,null);o.default=component.exports;installComponents(component,{FormsFieldsTextComponent:e(102).default,FormsFieldsTextareaComponent:e(785).default,FormsFieldsSelectComponent:e(112).default})}}]);